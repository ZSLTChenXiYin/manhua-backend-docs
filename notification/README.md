# 通知模块 API 文档

## 1. 获取消息通知列表

### 接口说明
注册新设备，获取设备ID和邀请码。

### 请求信息
- 请求路径：`/api/v1/notification`
- 请求方法：GET
- 请求头：
  - X-Package: 应用包名
  - Authorization: Bearer {token}
  - appId: 应用ID
    - 测试数据: 102
  - platformId: 平台ID
    - 测试数据: 1
  - device: 设备号
    - 测试数据: 1234567890
- 请求参数（表单数据）：
  - pageIndex: 页码
  - pageSize: 每页大小
  - 示例:
    - pageIndex: 1
    - pageSize: 10

### 响应信息
```json
{
    "requestId": "4020ca06-5b19-4a57-ba8e-d4662e37ee68",
    "code": 200,
    "msg": "获取成功",
    "data": {
        "count": 6,
        "pageIndex": 1,
        "pageSize": 10,
        "list": [
            {
                "id": 245,
                "content": "1:关于卡的问题，机房昨天已经升级，但是同步到每个地区需要一定的时间，大家这两天再试下。\n2:关于广告加载不出来的问题。有时候和地区性有关系，这种情况退出app重新打开能够改善\n3:关于书架丢失的问题，已经排查中\n4:关于某些漫画少图片的问题，也在修复，但是如果急着看的还是发发反馈，写上书名，会快速解决。\n5:关于大家说的为什么看漫画要看广告的问题，因为服务器需要不少成本，所有得通过大家看广告去维持服务器等诸多费用\n6:大家在发纠错反馈的时候尽量对准错误的章节去选择。不要乱选，因为也是人工修复，比较耗费精力。\n最后，祝大家看的开心。",
                "extra": "",
                "title": "若干问题的解答",
                "type": 5,
                "newExtra": {},
                "isRead": 2,
                "createdAt": "2024-12-04T19:32:47+08:00",
                "updatedAt": "2024-12-04T19:32:47+08:00"
            },
            {
                "id": 209,
                "content": "大家看下还卡不卡呗？卡的地方发下地区还有运营商，例如：广州-电信，深圳-移动，不卡的也发下反馈哈",
                "extra": "",
                "title": "调优了下网络",
                "type": 5,
                "newExtra": {},
                "isRead": 2,
                "createdAt": "2024-12-02T17:06:53+08:00",
                "updatedAt": "2024-12-02T17:06:53+08:00"
            },
            // ... 其他消息
        ]
    }
}
```

## 2. 获取消息详情

### 接口说明
获取消息详情。

### 请求信息
- 请求路径：`/api/v1/notification/detail`
- 请求方法：GET
- 请求头：
  - X-Package: 应用包名
  - Authorization: Bearer {token}
  - appId: 应用ID
    - 测试数据: 102
  - platformId: 平台ID
    - 测试数据: 1
  - device: 设备号
    - 测试数据: 1234567890
- 请求参数（表单数据）：
  - id: 消息ID
  - 示例:
    - id: 245

### 响应信息
```json
{
    "requestId": "b3d8026a-d6e2-4e7c-8a6a-de9150a48326",
    "code": 200,
    "msg": "获取成功",
    "data": {
        "id": 245,
        "content": "1:关于卡的问题，机房昨天已经升级，但是同步到每个地区需要一定的时间，大家这两天再试下。\n2:关于广告加载不出来的问题。有时候和地区性有关系，这种情况退出app重新打开能够改善\n3:关于书架丢失的问题，已经排查中\n4:关于某些漫画少图片的问题，也在修复，但是如果急着看的还是发发反馈，写上书名，会快速解决。\n5:关于大家说的为什么看漫画要看广告的问题，因为服务器需要不少成本，所有得通过大家看广告去维持服务器等诸多费用\n6:大家在发纠错反馈的时候尽量对准错误的章节去选择。不要乱选，因为也是人工修复，比较耗费精力。\n最后，祝大家看的开心。",
        "extra": "",
        "title": "若干问题的解答",
        "type": 5,
        "newExtra": {},
        "isRead": 2,
        "createdAt": "2024-12-04T19:32:47+08:00",
        "updatedAt": "2024-12-04T19:32:47+08:00"
    }
}
```

## 3. 获取消息未读总数

### 接口说明
获取消息未读总数。

### 请求信息
- 请求路径：`/api/v1/notification/unread`
- 请求方法：GET
- 请求头：
  - X-Package: 应用包名
  - Authorization: Bearer {token}
  - appId: 应用ID
    - 测试数据: 102
  - platformId: 平台ID
    - 测试数据: 1
  - device: 设备号
    - 测试数据: 1234567890

### 响应信息
```json
{
    "requestId": "71a334ed-5b10-4b2a-931c-101070642b0a",
    "code": 200,
    "msg": "获取成功",
    "data": 6
}
```

## 4. 消息批量已读

### 接口说明
消息批量已读。

### 请求信息
- 请求路径：`/api/v1/notification/multiread`
- 请求方法：POST
- 请求头：
  - X-Package: 应用包名
  - Authorization: Bearer {token}
  - appId: 应用ID
    - 测试数据: 102
  - platformId: 平台ID
    - 测试数据: 1
  - device: 设备号
    - 测试数据: 1234567890
- 请求参数（json）：
```json
{
  "ids": "245"
}
```

### 响应信息
```json
{
    "requestId": "190e84e0-ce81-47d8-a218-7ae0f1113b3e",
    "code": 200,
    "msg": "操作成功",
    "data": null
}
```



## 错误码说明

| 错误码 | 说明 |
|--------|------|
| 200 | 成功 |
| 400 | 请求参数错误 |
| 401 | 未认证或认证失败 |
| 403 | 无权限访问 |
| 404 | 资源不存在 |
| 500 | 服务器内部错误 |
