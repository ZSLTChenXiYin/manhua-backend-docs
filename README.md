# API 文档

## 基本信息

- 基础URL: `http://manhua-api.nftx.pics`
- 所有请求和响应均使用JSON格式
- 字符编码：UTF-8

## 通用请求头

| 请求头 | 说明 | 示例 |
|-------|-----|------|
| Authorization | JWT认证token，格式为"Bearer {token}" | Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... |
| X-Package | 应用包名，用于日志记录 | com.meimanyuan.app |

## 通用响应格式

```json
{
    "code": 200,           // 状态码，200表示成功
    "message": "success", // 状态描述
    "data": {            
        // 响应数据，具体结构见各接口文档
    }
}
```

## 通用状态码

| 状态码 | 说明 |
|--------|------|
| 200 | 成功 |
| 400 | 请求参数错误 |
| 401 | 未认证或认证失败 |
| 403 | 无权限访问 |
| 404 | 资源不存在 |
| 500 | 服务器内部错误 |

## 模块列表

#### 1. [设备模块](device/README.md)
  - 设备注册
  - 获取邀请码和邀请数量
  - 获取免广告时间
  - 获取邀请用户列表
  - 获取邀请分享信息
  - 查询设备更新状态

#### 2. [用户模块](member/README.md)
  - 用户注册和登录
  - 用户登出
  - 获取当前登录会员信息
  - 更新用户信息
  - 修改密码
  - 绑定手机号
  - 获取用户基本信息

#### 3. [配置模块](config/README.md)
  - 获取系统配置
  - 检查更新
  - 获取第三方参数

#### 4. [主机模块](host/README.md)
  - 获取主机名

#### 5. [主页公告模块](home_page/README.md)
  - 获取首页公告信息
  - 设置首页公告已读

#### 6. [推荐模块](recommend/README.md)
  - [推荐信息与话题列表](recommend/README.md#推荐信息与话题列表)
    - 漫画推荐列表
    - 获取话题列表
  - [推荐评论](recommend/README.md#推荐评论)
    - 获取漫画推荐评论详情
    - 根据漫画推荐评论id获取评论列表
    - 漫画推荐评论回复列表
    - 漫画推荐动态列表
  - [处理推荐相关信息](recommend/README.md#处理推荐相关信息)
    - [推荐相关](recommend/README.md#推荐相关)
      - 点赞/取消点赞（漫画推荐）
      - 推荐举报
      - 增加漫画推荐
      - 删除漫画推荐
      - 更新漫画推荐
    - [推荐评论相关](recommend/README.md#推荐评论相关)
      - 发表推荐评论
      - 漫画推荐评论点赞
      - 删除自己写的推荐评论
      - 根据recommend_id获取我的评论
    - [推荐评论回复相关](recommend/README.md#推荐评论回复相关)
      - 漫画推荐评论发表回复
      - 漫画推荐评论回复删除
      - 漫画推荐评论回复点赞
    - [推荐评论与推荐评论回复相关](recommend/README.md#推荐评论与推荐评论回复相关)
      - 举报评论&举报回复

#### 7. [漫画历史记录模块（阅读历史不是书架）](cartoon_history/README.md)
  - 加入阅读历史
  - 获取阅读历史
  - 删除阅读历史记录

#### 8. [漫画首页模块](cartoon/README.md)
  - 检查漫画更新信息
  - 猜你喜欢
  - 搜索漫画信息
  - 增加浏览量

#### 9. [同步模块](sync/README.md)
  - 同步标签数据
  - 同步分类数据

#### 10. [书架模块（使用该模块需要注册会员账号）](cartoonshelf/README.md)
  - 加入书架
  - 修改用户书架
  - 删除书架
  - 获取用户书架
  - 用户漫画状态
  - 书架推荐

#### 11. [静态资源模块](static/README.md)
  - [基础资源](static/README.md#基础资源)
    - 拉取域名配置

  - [标签资源](static/README.md#标签资源)
    - 拉取标签配置
    - 拉取标签

  - [栏目资源](static/README.md#栏目资源)
    - 拉取栏目列表
    - 拉取首页栏目静态资源
    - 拉取栏目详情

  - [分类资源](static/README.md#分类资源)
    - 拉取分类列表
    - 拉取分类详情

  - [地区资源](static/README.md#地区资源)
    - 拉取地区列表
    - 拉取地区详情

  - [漫画资源](static/README.md#漫画资源)
    - 拉取漫画包
    - 拉取漫画封面
    - 拉取漫画图片

  - [其他资源](static/README.md#其他资源)
    - 拉取今日热点
    - 拉取轮播图
    - 拉取大家都在看
    - 拉取新书推荐
    - 拉取排行榜
    - 拉取作者还画过
    - 拉取热门发现
    - 拉取更新数据

## 注意事项

1. 需要认证的接口必须在请求头中包含有效的JWT token
2. 请求体为JSON格式时，Content-Type应设置为application/json
3. 时间戳使用毫秒级Unix时间戳
4. 错误响应会包含具体的错误信息
